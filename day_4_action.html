<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');

  /* Global styles for the component to ensure consistency */
  :host, * {
    box-sizing: border-box;
    font-family: 'Inter', sans-serif;
    color: #FFFFFF; /* Primary text color for most elements */
  }

  /* Main container styling - adheres to dark charcoal background */
  .unshakable-investor-power-hour-form {
    background-color: #121212; /* Dark charcoal background */
    padding: 30px;
    border-radius: 8px; /* Slightly rounded corners for a premium feel */
    max-width: 800px;
    margin: 40px auto; /* Center the component */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4); /* Deep, soft shadow */
    position: relative;
    overflow: hidden; /* Important for containing the pseudo-element border */
  }

  /* Engineered feel - subtle gradient border on the container itself */
  .unshakable-investor-power-hour-form::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 8px; /* Match container border-radius */
    padding: 1px; /* Thickness of the gradient border */
    background: linear-gradient(45deg, #C84A00, #FF6A00); /* Fire Gradient */
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0); /* Creates the border effect */
    -webkit-mask-composite: xor;
            mask-composite: exclude;
  }

  /* Main Lesson Title Styling */
  h2 {
    font-family: 'Inter', sans-serif;
    font-weight: 900; /* Black for strong impact */
    font-size: 2.2em;
    text-transform: uppercase;
    letter-spacing: -0.025em; /* Tight letter spacing */
    margin-bottom: 15px;
    text-align: center;
    background: linear-gradient(90deg, #C84A00, #FF6A00); /* Fire Gradient for text */
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent; /* Fallback for older browsers */
    line-height: 1.2;
  }

  /* Exercise Title Styling */
  h3 {
    font-family: 'Inter', sans-serif;
    font-weight: 700; /* Bold */
    font-size: 1.6em;
    text-transform: uppercase;
    letter-spacing: -0.015em;
    margin-top: 30px;
    margin-bottom: 15px;
    color: #FFFFFF;
    text-align: center;
  }

  /* Introductory and Description Text Styling */
  .intro-text, .exercise-description {
    font-family: 'Inter', sans-serif;
    font-weight: 400; /* Regular */
    font-size: 0.95em;
    line-height: 1.6;
    color: #94a3b8; /* Muted slate gray */
    margin-bottom: 25px;
    text-align: center;
    max-width: 600px; /* Constrain width for readability */
    margin-left: auto;
    margin-right: auto;
  }

  /* Form Layout */
  form {
    display: flex;
    flex-direction: column;
    gap: 20px; /* Space between form groups */
  }

  .form-group {
    margin-bottom: 5px; /* Adjust as needed for specific spacing */
  }

  /* Label Styling */
  label {
    display: block;
    font-family: 'Inter', sans-serif;
    font-weight: 500; /* Medium */
    font-size: 0.85em;
    color: #94a3b8; /* Muted slate gray */
    margin-bottom: 8px;
    letter-spacing: 0.02em;
    text-transform: uppercase;
  }

  /* Input and Textarea Styling */
  input[type="text"],
  input[type="email"],
  textarea {
    width: 100%;
    padding: 12px 15px;
    background-color: #0A0A0A; /* Dark input background */
    border: 1px solid rgba(255, 255, 255, 0.1); /* Subtle border */
    border-radius: 4px; /* Sharp corners */
    font-size: 1em;
    color: #FFFFFF;
    transition: border-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transitions */
    resize: vertical; /* Allow vertical resizing for textareas */
    min-height: 60px; /* Minimum height for textareas */
  }

  /* Input Focus State - Accent Glow */
  input[type="text"]:focus,
  input[type="email"]:focus,
  textarea:focus {
    outline: none;
    border-color: #FF6A00; /* Accent color on focus */
    box-shadow: 0 0 0 2px rgba(255, 106, 0, 0.4); /* Subtle glow effect */
  }

  /* Specific layout for Name and Email fields */
  .name-email-group {
    display: flex;
    gap: 20px;
    margin-bottom: 10px;
  }
  .name-email-group .form-group {
    flex: 1; /* Make them take equal width */
    margin-bottom: 0;
  }

  /* Custom Checkbox Styling */
  .commitment-checkbox {
    display: flex;
    align-items: center;
    margin-top: 10px;
    margin-bottom: 20px;
    cursor: pointer;
  }

  .commitment-checkbox input[type="checkbox"] {
    appearance: none; /* Hide default checkbox */
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background-color: #0A0A0A;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 3px; /* Slightly rounded square */
    cursor: pointer;
    position: relative;
    margin-right: 12px;
    transition: all 0.2s ease-in-out;
  }

  .commitment-checkbox input[type="checkbox"]:checked {
    background: linear-gradient(45deg, #C84A00, #FF6A00); /* Fire Gradient on check */
    border-color: #FF6A00;
  }

  .commitment-checkbox input[type="checkbox"]:checked::after {
    content: 'âœ”'; /* Checkmark symbol */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 14px;
    color: #FFFFFF;
    font-weight: 700;
  }

  .commitment-checkbox label {
    margin-bottom: 0;
    cursor: pointer;
    font-weight: 400; /* Regular weight for checkbox label */
    color: #FFFFFF; /* White for the commitment text */
    text-transform: none; /* Keep natural casing */
    letter-spacing: normal;
  }

  /* Submit Button Styling */
  button {
    padding: 15px 25px;
    background: linear-gradient(90deg, #C84A00, #FF6A00); /* Fire Gradient */
    border: none;
    border-radius: 4px;
    color: #FFFFFF;
    font-family: 'Inter', sans-serif;
    font-weight: 700; /* Bold */
    font-size: 1.1em;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    cursor: pointer;
    transition: all 0.3s ease; /* Smooth transitions for hover/state changes */
    box-shadow: 0 4px 15px rgba(255, 106, 0, 0.3); /* Soft shadow for depth */
    margin-top: 20px;
  }

  /* Button Hover Effect */
  button:hover:not(:disabled) {
    background: linear-gradient(90deg, #FF6A00, #C84A00); /* Reverse gradient on hover */
    box-shadow: 0 6px 20px rgba(255, 106, 0, 0.4);
    transform: translateY(-2px); /* Slight lift */
  }

  /* Disabled Button State */
  button:disabled {
    background: #444; /* Darker background for disabled state */
    cursor: not-allowed;
    box-shadow: none;
    opacity: 0.7;
  }

  /* Success Button State */
  .button-success {
    background: linear-gradient(90deg, #28a745, #218838); /* Green gradient */
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
  }

  /* Error Button State */
  .button-error {
    background: linear-gradient(90deg, #dc3545, #c82333); /* Red gradient */
    box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
  }

  /* Responsive Adjustments */
  @media (max-width: 600px) {
    .name-email-group {
      flex-direction: column; /* Stack name and email vertically */
      gap: 0;
    }
    .unshakable-investor-power-hour-form {
      padding: 20px;
      margin: 20px auto;
    }
    h2 {
      font-size: 1.8em;
    }
    h3 {
      font-size: 1.4em;
    }
    .intro-text, .exercise-description {
      font-size: 0.9em;
    }
  }
</style>

<div class="unshakable-investor-power-hour-form">
  <h2>The Morning Power Hour (Lesson #131)</h2>
  <p class="intro-text">
    "You have your daily discipline of spiritual, mental and physical. It's one hour. If you can't do that, you don't want a better life. When you do this in the first thing in the morning, you set your mind up for success."
  </p>

  <h3>The Proof of Power Post</h3>
  <p class="exercise-description">
    Schedule your Power Hour in your calendar for the next seven days. After completing your first one tomorrow morning, you must post a "Proof of Power" selfie in the community with one sentence on how it made you feel.
  </p>

  <form id="powerHourForm">
    <div class="name-email-group">
      <div class="form-group">
        <label for="fullName">Full Name</label>
        <input type="text" id="fullName" name="fullName" required placeholder="Your full name">
      </div>
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" required placeholder="your@email.com">
      </div>
    </div>

    <div class="form-group">
      <div class="commitment-checkbox">
        <input type="checkbox" id="commitmentCheckbox" name="commitmentCheckbox" required>
        <label for="commitmentCheckbox">I commit to scheduling my Power Hour for the next 7 days.</label>
      </div>
    </div>

    <div class="form-group">
      <label for="powerHourFeeling">My commitment / how I plan to feel after my first Power Hour</label>
      <textarea id="powerHourFeeling" name="powerHourFeeling" rows="4" required
                placeholder="E.g., 'I will feel energized and ready to conquer the day!'"></textarea>
    </div>

    <button type="submit" id="submitBtn">Submit Proof of Power</button>
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('powerHourForm');
    const submitBtn = document.getElementById('submitBtn');
    const fullNameInput = document.getElementById('fullName');
    const emailInput = document.getElementById('email');
    const commitmentCheckbox = document.getElementById('commitmentCheckbox');
    const powerHourFeelingTextarea = document.getElementById('powerHourFeeling');

    // Webhook URL and Lesson details from the prompt
    const WEBHOOK_URL = 'https://hook.us2.make.com/7wbmkvn8vujpej74sy29299rl9nmgn9e';
    const LESSON_TITLE = 'The Morning Power Hour (Lesson #131)';
    const EXERCISE_TITLE = 'The Proof of Power Post';

    form.addEventListener('submit', async (e) => {
      e.preventDefault(); // Prevent default form submission and page reload

      // Client-side validation
      if (!fullNameInput.value.trim()) {
        alert('Please enter your full name.');
        fullNameInput.focus();
        return;
      }
      if (!emailInput.value.trim() || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value.trim())) {
        alert('Please enter a valid email address.');
        emailInput.focus();
        return;
      }
      if (!commitmentCheckbox.checked) {
        alert('You must commit to scheduling your Power Hour to proceed.');
        commitmentCheckbox.focus();
        return;
      }
      if (!powerHourFeelingTextarea.value.trim()) {
        alert('Please describe your commitment or how you plan to feel.');
        powerHourFeelingTextarea.focus();
        return;
      }

      // Update button state for submission
      submitBtn.textContent = 'SUBMITTING...';
      submitBtn.disabled = true;
      submitBtn.classList.remove('button-error', 'button-success'); // Clear previous states

      // Construct JSON payload
      const formData = {
        lessonTitle: LESSON_TITLE,
        exerciseTitle: EXERCISE_TITLE,
        fullName: fullNameInput.value.trim(),
        email: emailInput.value.trim(),
        commitmentToSchedule: commitmentCheckbox.checked,
        powerHourFeeling: powerHourFeelingTextarea.value.trim(),
        timestamp: new Date().toISOString() // Add a timestamp for tracking
      };

      try {
        const response = await fetch(WEBHOOK_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(formData)
        });

        if (response.ok) {
          submitBtn.textContent = 'SUBMITTED SUCCESSFULLY';
          submitBtn.classList.add('button-success');
          // Disable all form fields after successful submission
          fullNameInput.disabled = true;
          emailInput.disabled = true;
          commitmentCheckbox.disabled = true;
          powerHourFeelingTextarea.disabled = true;
        } else {
          console.error('Submission error:', response.status, response.statusText);
          submitBtn.textContent = 'ERROR - TRY AGAIN';
          submitBtn.classList.add('button-error');
          submitBtn.disabled = false; // Re-enable button for retry
        }
      } catch (error) {
        console.error('Network or fetch error:', error);
        submitBtn.textContent = 'ERROR - TRY AGAIN';
        submitBtn.classList.add('button-error');
        submitBtn.disabled = false; // Re-enable button for retry
      }
    });
  });
</script>